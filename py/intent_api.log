2025-05-10 20:51:10,272 - __main__ - INFO - Created evaluation CSV file: model_evaluation.csv
2025-05-10 20:51:10,275 - __main__ - INFO - Loading intent resources from C:\xampp\htdocs\ChatbotPerpusBipa\py\model...
2025-05-10 20:52:12,106 - __main__ - INFO - Intent resources loaded successfully
2025-05-10 20:52:12,108 - __main__ - INFO - Loaded 9 intent classes
2025-05-10 20:52:12,113 - __main__ - INFO - Thresholds: {'energy_threshold': -5.720269680023193, 'msp_threshold': 0.8734092712402344}
2025-05-10 20:52:12,114 - __main__ - INFO - Intent classification model loaded successfully!
2025-05-10 20:52:13,087 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.9:5000
2025-05-10 20:52:13,088 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-10 20:52:13,148 - werkzeug - INFO -  * Restarting with stat
2025-05-10 20:52:43,569 - __main__ - INFO - Loading intent resources from C:\xampp\htdocs\ChatbotPerpusBipa\py\model...
2025-05-10 20:53:35,798 - __main__ - INFO - Loading intent resources from C:\xampp\htdocs\ChatbotPerpusBipa\py\model...
2025-05-10 20:53:38,986 - __main__ - INFO - Intent resources loaded successfully
2025-05-10 20:53:38,986 - __main__ - INFO - Loaded 9 intent classes
2025-05-10 20:53:38,986 - __main__ - INFO - Thresholds: {'energy_threshold': -5.720269680023193, 'msp_threshold': 0.8734092712402344}
2025-05-10 20:53:38,986 - __main__ - INFO - Intent classification model loaded successfully!
2025-05-10 20:53:39,220 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.9:5000
2025-05-10 20:53:39,220 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-10 20:53:39,236 - werkzeug - INFO -  * Restarting with stat
2025-05-10 20:53:49,002 - __main__ - INFO - Loading intent resources from C:\xampp\htdocs\ChatbotPerpusBipa\py\model...
2025-05-10 21:03:09,865 - __main__ - INFO - Loading intent resources from C:\xampp\htdocs\ChatbotPerpusBipa\py\model...
2025-05-10 21:03:13,006 - __main__ - INFO - Intent resources loaded successfully
2025-05-10 21:03:13,006 - __main__ - INFO - Loaded 9 intent classes
2025-05-10 21:03:13,006 - __main__ - INFO - Thresholds: {'energy_threshold': -5.720269680023193, 'msp_threshold': 0.8734092712402344}
2025-05-10 21:03:13,006 - __main__ - INFO - Intent classification model loaded successfully!
2025-05-10 21:03:13,037 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.9:5000
2025-05-10 21:03:13,037 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-10 21:04:34,421 - __main__ - INFO - 
========== INTENT PREDICTION DEBUG ==========
2025-05-10 21:04:34,421 - __main__ - INFO - Input Text: hi
2025-05-10 21:04:34,421 - __main__ - INFO - Detection Method: combined
2025-05-10 21:04:43,102 - __main__ - INFO - Logits: [[-1.3176556825637817, -1.1946855783462524, -0.858184278011322, -1.1091588735580444, -1.0160118341445923, 1.3968093395233154, 5.099667072296143, -1.0186958312988281, -0.7325793504714966]]
2025-05-10 21:04:43,618 - __main__ - INFO - Softmax Probabilities: [[0.0015701063675805926, 0.0017755558947101235, 0.0024858498945832253, 0.0019340959843248129, 0.0021229088306427, 0.023703157901763916, 0.9614725708961487, 0.0021172184497117996, 0.0028185418341308832]]
2025-05-10 21:04:43,633 - __main__ - INFO - Max Probability (Confidence): 0.9615
2025-05-10 21:04:43,633 - __main__ - INFO - Predicted Index: 6
2025-05-10 21:04:44,086 - __main__ - INFO - Energy Score: -5.1390
2025-05-10 21:04:44,086 - __main__ - INFO - OOD Detection -> is_ood: False
2025-05-10 21:04:44,086 - __main__ - INFO - Prediction marked as IN-DISTRIBUTION.
2025-05-10 21:04:44,086 - __main__ - INFO - Predicted Intent: greeting
2025-05-10 21:04:44,086 - __main__ - INFO - =============================================

2025-05-10 21:04:44,086 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 21:04:44] "POST /api/analyze HTTP/1.1" 200 -
2025-05-10 21:10:56,497 - __main__ - INFO - 
========== INTENT PREDICTION DEBUG ==========
2025-05-10 21:10:56,498 - __main__ - INFO - Input Text: selamat pagi, saya inginn tau cara meminjam buku boleh? makasih
2025-05-10 21:10:56,499 - __main__ - INFO - Detection Method: combined
2025-05-10 21:10:58,421 - __main__ - INFO - Logits: [[5.399814605712891, 0.087623231112957, -0.8307769298553467, -0.6626364588737488, -0.7578122615814209, 0.10144484788179398, -0.7953941226005554, -0.3702244460582733, -1.1888351440429688]]
2025-05-10 21:10:58,423 - __main__ - INFO - Softmax Probabilities: [[0.9776320457458496, 0.0048208096995949745, 0.001924260170198977, 0.002276598708704114, 0.0020699123851954937, 0.0048879035748541355, 0.0019935655873268843, 0.0030498558189719915, 0.0013451204868033528]]
2025-05-10 21:10:58,424 - __main__ - INFO - Max Probability (Confidence): 0.9776
2025-05-10 21:10:58,427 - __main__ - INFO - Predicted Index: 0
2025-05-10 21:10:58,430 - __main__ - INFO - Energy Score: -5.4224
2025-05-10 21:10:58,432 - __main__ - INFO - OOD Detection -> is_ood: False
2025-05-10 21:10:58,437 - __main__ - INFO - Prediction marked as IN-DISTRIBUTION.
2025-05-10 21:10:58,440 - __main__ - INFO - Predicted Intent: cara_pinjam
2025-05-10 21:10:58,442 - __main__ - INFO - =============================================

2025-05-10 21:10:58,449 - test - ERROR - Exception on /api/analyze [POST]
Traceback (most recent call last):
  File "C:\Users\User\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\User\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\User\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\User\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\User\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.9_qbz5n2kfra8p0\LocalCache\local-packages\Python39\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\xampp\htdocs\ChatbotPerpusBipa\py\test.py", line 234, in analyze
    save_prediction_to_csv(text, result, method)
  File "C:\xampp\htdocs\ChatbotPerpusBipa\py\test.py", line 52, in save_prediction_to_csv
    with open(EVAL_CSV, 'a', newline='') as f:
PermissionError: [Errno 13] Permission denied: 'model_evaluation.csv'
2025-05-10 21:11:03,159 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 21:11:03] "[35m[1mPOST /api/analyze HTTP/1.1[0m" 500 -
2025-05-10 21:11:30,805 - __main__ - INFO - 
========== INTENT PREDICTION DEBUG ==========
2025-05-10 21:11:30,806 - __main__ - INFO - Input Text: selamat pagi, saya inginn tau cara meminjam buku boleh? makasih
2025-05-10 21:11:30,807 - __main__ - INFO - Detection Method: combined
2025-05-10 21:11:32,361 - __main__ - INFO - Logits: [[5.399814605712891, 0.087623231112957, -0.8307769298553467, -0.6626364588737488, -0.7578122615814209, 0.10144484788179398, -0.7953941226005554, -0.3702244460582733, -1.1888351440429688]]
2025-05-10 21:11:32,365 - __main__ - INFO - Softmax Probabilities: [[0.9776320457458496, 0.0048208096995949745, 0.001924260170198977, 0.002276598708704114, 0.0020699123851954937, 0.0048879035748541355, 0.0019935655873268843, 0.0030498558189719915, 0.0013451204868033528]]
2025-05-10 21:11:32,370 - __main__ - INFO - Max Probability (Confidence): 0.9776
2025-05-10 21:11:32,373 - __main__ - INFO - Predicted Index: 0
2025-05-10 21:11:32,379 - __main__ - INFO - Energy Score: -5.4224
2025-05-10 21:11:32,387 - __main__ - INFO - OOD Detection -> is_ood: False
2025-05-10 21:11:32,390 - __main__ - INFO - Prediction marked as IN-DISTRIBUTION.
2025-05-10 21:11:32,393 - __main__ - INFO - Predicted Intent: cara_pinjam
2025-05-10 21:11:32,397 - __main__ - INFO - =============================================

2025-05-10 21:11:32,412 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 21:11:32] "POST /api/analyze HTTP/1.1" 200 -
